<!DOCTYPE html>
<html lang="en-US">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Installation</title>
      <link rel="stylesheet" href="css/components.css">
      <link rel="stylesheet" href="css/icons.css">
      <link rel="stylesheet" href="css/responsee.css">
      <!-- CUSTOM STYLE -->
      <link rel="stylesheet" href="css/template-style.css">
      <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
      <script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
      <script type="text/javascript" src="js/jquery-ui.min.js"></script>
   </head>
   <body class="size-1280">
      <!-- TOP NAV WITH LOGO -->
      <header>
         <nav>
            <div class="line">
               <div class="m-12 l-2">
                  <img class="s-5 m-2 l-12 center" src="img/logo.svg">
               </div>
               <div class="top-nav s-12 l-10 right">

                  <ul class="right">
                     <li><a href="index.html">Home</a></li>
                     <li>
                        <a>General Info</a>
                        <ul>
							<li><a href="evm.html">Electronic Voting Machines</a></li>
                           <li><a href="secureElection.html">Making a Secure Election</a></li>
                           <li>
                              <a href="accurateVote.html">Keeping Your Vote Accurate</a>
                           </li>
						   <li><a href="privateVote.html">Keeping Your Vote Private</a></li>
						   <li><a href="audit.html">Recounts and Audits</a></li>
						   <li><a href="accessibility.html">Accessibility</a></li>
                        </ul>
                     </li>
                     <li>
                        <a>Threats</a>
                        <ul>
                           <li><a href="threatModel.html">Threat Model</a></li>
                           <li><a href="cortier.html">Cortier/Smyth Attack</a></li>
						   <li><a href="registration.html">Fraudulent Registration</a></li>
						   <li><a href="votingCenter.html">Voting Centers</a></li>
                        </ul>
                     </li>
                     <li><a>Helios</a>
						 <ul>
							 <li><a href="whyHelios.hmtl">Why Helios?</a></li>
							 <li><a href="heliosBasics.html">Helios Basics</a></li>
							 <li><a href="crypto.html">Helios Cryptography</a></li>
							 <li><a href="modification.html">Our Modifications</a></li>
							 <li><a href="intallation.html">Installation Guide</a><li>
						</ul>
					 </li>
					 <li><a href="references.html">References</a></li>
                  </ul>
               </div>
            </div>
         </nav>
      </header>
      <!-- ASIDE NAV AND CONTENT -->
      <div class="line">
         <div class="box  margin-bottom">
            <div class="margin2x">
               <!-- ASIDE NAV 1 -->
               <aside class="s-12 l-3">
                  <h3>Navigation</h3>
                  <div class="aside-nav">
                     <ul>
                     <li><a href="index.html">Home</a></li>
                     <li>
                        <a>General Info</a>
                        <ul>
							<li><a href="evm.html">Electronic Voting Machines</a></li>
                           <li><a href="secureElection.html">Making a Secure Election</a></li>
                           <li>
                              <a href="accurateVote.html">Keeping Your Vote Accurate</a>
							<li><a href="privateVote.html">Keeping Your Vote Private</a></li>
                           </li>
						   <li><a href="audit.html">Recounts and Audits</a></li>
						   <li><a href="accessibility.html">Accessibility</a></li>
                        </ul>
                     </li>
                     <li>
                        <a>Threats</a>
                        <ul>
                           <li><a href="threatModel.html">Threat Model</a></li>
                           <li><a href="cortier.html">Cortier/Smyth Attack</a></li>
						   <li><a href="registration.html">Fraudulent Registration</a></li>
						   <li><a href="votingCenter.html">Voting Centers</a></li>
                        </ul>
                     </li>
                     <li><a>Helios</a>
						 <ul>
							 <li><a href="whyHelios.hmtl">Why Helios?</a></li>
							 <li><a href="heliosBasics.html">Helios Basics</a></li>
							 <li><a href="crypto.html">Helios Cryptography</a></li>
							 <li><a href="modification.html">Our Modifications</a></li>
							 <li><a href="intallation.html">Installation Guide</a><li>
						</ul>
					 </li>
					 <li><a href="references.html">References</a></li>
                     </ul>
                  </div>
               </aside>
               <!-- CONTENT -->
               <section class="s-12 l-6">
                  <h1>Installation Guide</h1>
                  <h3>System:</h3>
                    <li>Ubuntu 20.04</li>
                    <li>Postgres 12.5
</li>
                    <li>Rabbitmq-server</li>
                    <li>Celery 4.2.1</li>
                    <p>Testing in a virtual environment first can help determine the right set of packages.</p>
                    <li>Install/check installation of python3-venv, use python3 -m venvname venvfoldername to create a v-env</li>
                    <li>Start venv with source venvname/bin/activate
</li>
<br>
<h3>Setup:</h3>
<p>With sudo -i -u postgres, create a new database called “helios”</p>
<p>Move to the git repo and install the required dependencies with pip3 install -r requirements.txt
</p>
<p>Run py3 manage.py makemigrations, py3 manage.py migrate to configure the database.</p>
<p>Start rabbitmq with servicectl rabbitmq-server start</p>
<p>Start celery with celery -A helios worker -l info
</p>
<h3>Edit:</h3>
<p>In a new window, go to settings.py and edit the allowed hosts to [‘*’] (this means all), set the URL to localhost or the production url, set the timezone, secret key, … and add google/facebook/social media credentials.
</p>
<p>Go to the google developer console and create a new web app with authorized JS origin = http://127.0.0.1:8000 as well as your site name, if you have one. Set redirect URL as http://localhost:8000/auth/after/ and also similar with your site name if available. Enable the Google+ and Google People APIs</p>
<p>Add nonsensitive scopes:</p>
<li>People API > .../auth/userinfo.email
</li>
<li>People API > .../auth/userinfo.profile
</li>
<li>Openid</li>
<h3>Run:</h3>
<p>Run py3 manage.py runserver with optional arg 0.0.0.0:8000 to run for production.</p>
<h3>Server:</h3>
<p>No web server is necessary if you use “screen” to run celery and Helios in the background. “bg” will not work long-term.
</p>
<p>Apache and nginx are both compatible with Helios. We used nginx and gunicorn for one of our website versions</p>
<h3>Notes:</h3>
  <p>As of early 2021, the installation instructions for Helios are missing the celery command above. The steps above are what we use to set up our helios testing servers.
</p>
               </section>
               <!-- ASIDE NAV 2 -->
            </div>
         </div>
      </div>
      <!-- FOOTER -->
      <div class="line">
        <footer class="box">
              <div class="s-12 l-6">
                 <p>Copyright 2019, Vision Design - graphic zoo</p>
              </div>
              <div class="s-12 l-6">
                 <a class="right" href="http://www.myresponsee.com" title="Responsee - lightweight responsive framework">Design and coding by Responsee Team</a>
              </div>
           </div>
        </footer>
      </div>
      <script type="text/javascript" src="js/responsee.js"></script>
   </body>
</html>
